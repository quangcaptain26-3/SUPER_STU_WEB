================================================================================
                    Há»† THá»NG QUáº¢N LÃ SINH VIÃŠN - WORKFLOW CHI TIáº¾T
================================================================================

ğŸ“‹ Tá»”NG QUAN Há»† THá»NG
================================================================================

Há»‡ thá»‘ng quáº£n lÃ½ sinh viÃªn Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i kiáº¿n trÃºc MVC (Model-View-Controller)
sá»­ dá»¥ng PHP, MySQL, Bootstrap vÃ  cÃ¡c thÆ° viá»‡n há»— trá»£. Há»‡ thá»‘ng cÃ³ 4 cáº¥p Ä‘á»™ phÃ¢n
quyá»n: Super Admin, Admin, Teacher, Student.

================================================================================
ğŸ” Há»† THá»NG PHÃ‚N QUYá»€N (RBAC)
================================================================================

1. SUPER ADMIN
   - Quyá»n háº¡n: Táº¥t cáº£ quyá»n trong há»‡ thá»‘ng
   - Chá»©c nÄƒng:
     + Quáº£n lÃ½ ngÆ°á»i dÃ¹ng (CRUD)
     + Quáº£n lÃ½ sinh viÃªn (CRUD)
     + Quáº£n lÃ½ Ä‘iá»ƒm sá»‘ (CRUD)
     + Xem thá»‘ng kÃª vÃ  bÃ¡o cÃ¡o
     + Xuáº¥t bÃ¡o cÃ¡o PDF/DOCX
     + Cáº¥u hÃ¬nh há»‡ thá»‘ng

2. ADMIN
   - Quyá»n háº¡n: Quáº£n lÃ½ dá»¯ liá»‡u chÃ­nh
   - Chá»©c nÄƒng:
     + Quáº£n lÃ½ sinh viÃªn (CRUD)
     + Quáº£n lÃ½ Ä‘iá»ƒm sá»‘ (CRUD)
     + Xem thá»‘ng kÃª vÃ  bÃ¡o cÃ¡o
     + Xuáº¥t bÃ¡o cÃ¡o PDF/DOCX
     - KhÃ´ng quáº£n lÃ½ ngÆ°á»i dÃ¹ng

3. TEACHER
   - Quyá»n háº¡n: Quáº£n lÃ½ sinh viÃªn vÃ  Ä‘iá»ƒm sá»‘
   - Chá»©c nÄƒng:
     + Xem danh sÃ¡ch sinh viÃªn
     + ThÃªm sinh viÃªn
     + Sá»­a thÃ´ng tin sinh viÃªn
     + Quáº£n lÃ½ Ä‘iá»ƒm sá»‘ (CRUD)
     + Xem thá»‘ng kÃª
     + Xuáº¥t bÃ¡o cÃ¡o PDF/DOCX
     - KhÃ´ng xÃ³a sinh viÃªn
     - KhÃ´ng quáº£n lÃ½ ngÆ°á»i dÃ¹ng

4. STUDENT
   - Quyá»n háº¡n: Chá»‰ xem thÃ´ng tin cÃ¡ nhÃ¢n
   - Chá»©c nÄƒng:
     + Xem thÃ´ng tin cÃ¡ nhÃ¢n
     + Xem Ä‘iá»ƒm sá»‘ cá»§a mÃ¬nh
     - KhÃ´ng quáº£n lÃ½ dá»¯ liá»‡u

================================================================================
ğŸš€ WORKFLOW CÃC CHá»¨C NÄ‚NG CHÃNH
================================================================================

ğŸ“ 1. QUáº¢N LÃ SINH VIÃŠN
================================================================================

1.1. THÃŠM SINH VIÃŠN
   Workflow:
   1. User click "ThÃªm sinh viÃªn" â†’ students/add.php
   2. Hiá»ƒn thá»‹ form nháº­p thÃ´ng tin
   3. User nháº­p: Há» tÃªn, MSV, Email, SÄT, NgÃ y sinh, Giá»›i tÃ­nh, Äá»‹a chá»‰, Avatar
   4. Validation phÃ­a client (JavaScript)
   5. Submit form â†’ POST Ä‘áº¿n students/add.php
   6. Validation phÃ­a server (PHP)
   7. Upload avatar (náº¿u cÃ³)
   8. Insert vÃ o database
   9. Redirect vá» danh sÃ¡ch vá»›i thÃ´ng bÃ¡o thÃ nh cÃ´ng

   Files liÃªn quan:
   - students/add.php (View + Controller)
   - studentController.php (Model logic)
   - assets/js/validation.js (Client validation)

1.2. Sá»¬A SINH VIÃŠN
   Workflow:
   1. User click "Sá»­a" â†’ students/edit.php?id=X
   2. Load thÃ´ng tin sinh viÃªn tá»« database
   3. Hiá»ƒn thá»‹ form vá»›i dá»¯ liá»‡u cÃ³ sáºµn
   4. User chá»‰nh sá»­a thÃ´ng tin
   5. Validation vÃ  submit
   6. Update database
   7. Redirect vá» danh sÃ¡ch

   Files liÃªn quan:
   - students/edit.php
   - studentController.php

1.3. XÃ“A SINH VIÃŠN
   Workflow:
   1. User click "XÃ³a" â†’ JavaScript function deleteStudent(id)
   2. Hiá»ƒn thá»‹ modal xÃ¡c nháº­n (SweetAlert2)
   3. User xÃ¡c nháº­n â†’ Gá»­i AJAX request
   4. students/delete.php xá»­ lÃ½
   5. Kiá»ƒm tra quyá»n háº¡n
   6. Delete tá»« database
   7. Tráº£ vá» JSON response
   8. Hiá»ƒn thá»‹ thÃ´ng bÃ¡o káº¿t quáº£
   9. Reload trang

   Files liÃªn quan:
   - students/list.php (JavaScript)
   - students/delete.php
   - studentController.php

1.4. XEM CHI TIáº¾T SINH VIÃŠN
   Workflow:
   1. User click "Xem" â†’ students/view.php?id=X
   2. Load thÃ´ng tin sinh viÃªn
   3. Load danh sÃ¡ch Ä‘iá»ƒm cá»§a sinh viÃªn
   4. TÃ­nh Ä‘iá»ƒm trung bÃ¬nh
   5. Hiá»ƒn thá»‹ thÃ´ng tin Ä‘áº§y Ä‘á»§
   6. CÃ³ thá»ƒ xÃ³a Ä‘iá»ƒm tá»« trang nÃ y

   Files liÃªn quan:
   - students/view.php
   - studentController.php
   - scoreController.php

================================================================================
ğŸ“Š 2. QUáº¢N LÃ ÄIá»‚M Sá»
================================================================================

2.1. THÃŠM ÄIá»‚M
   Workflow:
   1. User click "ThÃªm Ä‘iá»ƒm" â†’ scores/add.php
   2. Hiá»ƒn thá»‹ form: Chá»n sinh viÃªn, MÃ´n há»c, Äiá»ƒm, Há»c ká»³
   3. Validation: Äiá»ƒm tá»« 0-10, khÃ´ng trÃ¹ng mÃ´n trong cÃ¹ng há»c ká»³
   4. Submit â†’ scores/add.php
   5. Insert vÃ o database
   6. Redirect vá» danh sÃ¡ch

   Files liÃªn quan:
   - scores/add.php
   - scoreController.php

2.2. Sá»¬A ÄIá»‚M
   Workflow:
   1. User click "Sá»­a" â†’ scores/edit.php?id=X
   2. Load thÃ´ng tin Ä‘iá»ƒm
   3. Hiá»ƒn thá»‹ form vá»›i dá»¯ liá»‡u
   4. User chá»‰nh sá»­a
   5. Update database
   6. Redirect vá» danh sÃ¡ch

   Files liÃªn quan:
   - scores/edit.php
   - scoreController.php

2.3. XÃ“A ÄIá»‚M
   Workflow:
   1. User click "XÃ³a" â†’ JavaScript function deleteScore(id)
   2. Modal xÃ¡c nháº­n (SweetAlert2)
   3. AJAX request â†’ scores/delete.php
   4. Delete tá»« database
   5. JSON response
   6. ThÃ´ng bÃ¡o káº¿t quáº£
   7. Reload trang

   Files liÃªn quan:
   - scores/list.php (JavaScript)
   - scores/delete.php
   - scoreController.php

2.4. Lá»ŒC ÄIá»‚M
   Workflow:
   1. User chá»n bá»™ lá»c: Sinh viÃªn, Há»c ká»³
   2. Submit form GET
   3. scores/list.php xá»­ lÃ½ filter
   4. Query database vá»›i Ä‘iá»u kiá»‡n
   5. Hiá»ƒn thá»‹ káº¿t quáº£ Ä‘Ã£ lá»c

   Files liÃªn quan:
   - scores/list.php

================================================================================
ğŸ‘¥ 3. QUáº¢N LÃ NGÆ¯á»œI DÃ™NG (SUPER ADMIN ONLY)
================================================================================

3.1. THÃŠM NGÆ¯á»œI DÃ™NG
   Workflow:
   1. User click "ThÃªm ngÆ°á»i dÃ¹ng" â†’ Modal popup
   2. Form: Username, Email, Password, Role
   3. Validation: Username unique, Email valid, Password min 6 chars
   4. Submit â†’ users.php (POST)
   5. Hash password
   6. Insert vÃ o database
   7. Refresh trang vá»›i thÃ´ng bÃ¡o

   Files liÃªn quan:
   - public/users.php
   - authController.php

3.2. XÃ“A NGÆ¯á»œI DÃ™NG
   Workflow:
   1. User click "XÃ³a" â†’ JavaScript function deleteUser(id, username)
   2. Modal xÃ¡c nháº­n vá»›i tÃªn ngÆ°á»i dÃ¹ng
   3. Táº¡o form áº©n vÃ  submit
   4. users.php xá»­ lÃ½ POST
   5. Kiá»ƒm tra khÃ´ng xÃ³a chÃ­nh mÃ¬nh
   6. Delete tá»« database
   7. Refresh trang

   Files liÃªn quan:
   - public/users.php
   - authController.php

================================================================================
ğŸ“ˆ 4. THá»NG KÃŠ VÃ€ BÃO CÃO
================================================================================

4.1. DASHBOARD THá»NG KÃŠ
   Workflow:
   1. User truy cáº­p charts/statistics.php
   2. Load dá»¯ liá»‡u tá»« database
   3. TÃ­nh toÃ¡n: Tá»•ng sinh viÃªn, Äiá»ƒm TB, PhÃ¢n bá»‘ xáº¿p loáº¡i
   4. Hiá»ƒn thá»‹ biá»ƒu Ä‘á»“ (Chart.js)
   5. Real-time updates má»—i 30 giÃ¢y

   Files liÃªn quan:
   - charts/statistics.php
   - charts/api/statistics.php
   - assets/js/charts.js

4.2. XUáº¤T BÃO CÃO PDF
   Workflow:
   1. User click "Xuáº¥t PDF" â†’ exports/export_pdf.php
   2. Load dá»¯ liá»‡u tá»« database
   3. Táº¡o PDF báº±ng TCPDF
   4. Format: Header, Logo, Báº£ng dá»¯ liá»‡u, Footer
   5. Download file PDF

   Files liÃªn quan:
   - exports/export_pdf.php
   - exportController.php
   - assets/libs/tcpdf/

4.3. XUáº¤T BÃO CÃO DOCX
   Workflow:
   1. User click "Xuáº¥t DOCX" â†’ exports/export_docx.php
   2. Load dá»¯ liá»‡u tá»« database
   3. Táº¡o DOCX báº±ng PHPWord
   4. Format: Header, Báº£ng dá»¯ liá»‡u, Styling
   5. Download file DOCX

   Files liÃªn quan:
   - exports/export_docx.php
   - exportController.php
   - assets/libs/phpword/

================================================================================
ğŸ” 5. XÃC THá»°C VÃ€ Báº¢O Máº¬T
================================================================================

5.1. ÄÄ‚NG NHáº¬P
   Workflow:
   1. User truy cáº­p public/login.php
   2. Nháº­p username/password
   3. Submit â†’ authController.php
   4. Validate credentials
   5. Hash password vÃ  so sÃ¡nh
   6. Táº¡o session
   7. Redirect vá» trang chá»§

   Files liÃªn quan:
   - public/login.php
   - authController.php
   - middleware.php

5.2. KIá»‚M TRA QUYá»€N Háº N
   Workflow:
   1. Má»—i trang Ä‘Æ°á»£c báº£o vá»‡ bá»Ÿi middleware
   2. Kiá»ƒm tra session
   3. Kiá»ƒm tra quyá»n háº¡n theo role
   4. Redirect náº¿u khÃ´ng cÃ³ quyá»n

   Files liÃªn quan:
   - middleware.php
   - utils.php (getRolePermissions)

5.3. ÄÄ‚NG XUáº¤T
   Workflow:
   1. User click "ÄÄƒng xuáº¥t" â†’ public/logout.php
   2. Destroy session
   3. Clear cookies
   4. Redirect vá» trang Ä‘Äƒng nháº­p

   Files liÃªn quan:
   - public/logout.php

================================================================================
ğŸ—‘ï¸ 6. MODAL XÃC NHáº¬N XÃ“A
================================================================================

6.1. CÃCH HOáº T Äá»˜NG
   Workflow:
   1. User click nÃºt "XÃ³a" (trash icon)
   2. JavaScript function Ä‘Æ°á»£c gá»i vá»›i ID
   3. SweetAlert2 hiá»ƒn thá»‹ modal xÃ¡c nháº­n
   4. Modal cÃ³: Title, Message, 2 buttons (XÃ³a/Há»§y)
   5. Náº¿u user click "XÃ³a":
     - Hiá»ƒn thá»‹ loading modal
     - Gá»­i AJAX request Ä‘áº¿n delete endpoint
     - Xá»­ lÃ½ response
     - Hiá»ƒn thá»‹ modal káº¿t quáº£ (thÃ nh cÃ´ng/lá»—i)
     - Reload trang náº¿u thÃ nh cÃ´ng
   6. Náº¿u user click "Há»§y": ÄÃ³ng modal

6.2. CÃC CHá»¨C NÄ‚NG CÃ“ MODAL XÃC NHáº¬N
   - XÃ³a sinh viÃªn (students/list.php)
   - XÃ³a Ä‘iá»ƒm (scores/list.php)
   - XÃ³a Ä‘iá»ƒm trong chi tiáº¿t sinh viÃªn (students/view.php)
   - XÃ³a ngÆ°á»i dÃ¹ng (public/users.php)

6.3. TÃNH NÄ‚NG MODAL
   - Giao diá»‡n Ä‘áº¹p vá»›i SweetAlert2
   - Animation mÆ°á»£t mÃ 
   - Loading state khi xá»­ lÃ½
   - ThÃ´ng bÃ¡o káº¿t quáº£ rÃµ rÃ ng
   - Responsive design
   - Custom styling vá»›i CSS

   Files liÃªn quan:
   - assets/js/notifications.js (NotificationSystem class)
   - assets/css/notifications.css (Custom styles)
   - SweetAlert2 CDN

================================================================================
ğŸ“± 7. RESPONSIVE DESIGN
================================================================================

7.1. BREAKPOINTS
   - Mobile: < 768px
   - Tablet: 768px - 1024px
   - Desktop: > 1024px

7.2. ADAPTIVE FEATURES
   - Sidebar collapse trÃªn mobile
   - Table responsive vá»›i horizontal scroll
   - Modal fullscreen trÃªn mobile
   - Touch-friendly buttons

================================================================================
âš¡ 8. PERFORMANCE OPTIMIZATION
================================================================================

8.1. DATABASE OPTIMIZATION
   - Index trÃªn cÃ¡c trÆ°á»ng thÆ°á»ng query
   - Pagination cho danh sÃ¡ch lá»›n
   - Lazy loading cho images

8.2. FRONTEND OPTIMIZATION
   - CDN cho thÆ° viá»‡n
   - Minified CSS/JS
   - Image optimization
   - Caching headers

================================================================================
ğŸ”§ 9. Cáº¤U HÃŒNH VÃ€ TÃ™Y CHá»ˆNH
================================================================================

9.1. DATABASE CONFIG
   File: config/db.php
   - Host, Database name
   - Username, Password
   - Charset (utf8mb4)

9.2. PERMISSIONS CONFIG
   File: utils.php
   - Äá»‹nh nghÄ©a constants
   - getRolePermissions() function
   - requirePermission() function

9.3. UPLOAD CONFIG
   - Max file size
   - Allowed file types
   - Upload directory

================================================================================
ğŸ› 10. ERROR HANDLING
================================================================================

10.1. CLIENT-SIDE ERRORS
   - JavaScript validation
   - AJAX error handling
   - User-friendly error messages

10.2. SERVER-SIDE ERRORS
   - PHP error handling
   - Database error handling
   - Logging system

10.3. COMMON ERRORS
   - Database connection failed
   - File upload failed
   - Permission denied
   - Invalid data format

================================================================================
ğŸ“‹ 11. FILE STRUCTURE DETAILED
================================================================================

super-stu/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ db.php                 # Database configuration
â”œâ”€â”€ public/                    # Public pages
â”‚   â”œâ”€â”€ index.php             # Dashboard
â”‚   â”œâ”€â”€ login.php             # Login page
â”‚   â”œâ”€â”€ register.php          # Registration
â”‚   â”œâ”€â”€ logout.php            # Logout handler
â”‚   â”œâ”€â”€ forgot_password.php   # Password reset request
â”‚   â”œâ”€â”€ reset_password.php    # Password reset form
â”‚   â”œâ”€â”€ users.php             # User management (Super Admin)
â”‚   â”œâ”€â”€ profile.php           # User profile
â”‚   â””â”€â”€ permissions.php       # Permission matrix
â”œâ”€â”€ students/                 # Student module
â”‚   â”œâ”€â”€ list.php              # Student list with pagination
â”‚   â”œâ”€â”€ add.php               # Add student form
â”‚   â”œâ”€â”€ edit.php              # Edit student form
â”‚   â”œâ”€â”€ delete.php            # Delete student handler
â”‚   â””â”€â”€ view.php              # Student detail view
â”œâ”€â”€ scores/                   # Score module
â”‚   â”œâ”€â”€ list.php              # Score list with filters
â”‚   â”œâ”€â”€ add.php               # Add score form
â”‚   â”œâ”€â”€ edit.php              # Edit score form
â”‚   â””â”€â”€ delete.php            # Delete score handler
â”œâ”€â”€ charts/                   # Statistics module
â”‚   â”œâ”€â”€ statistics.php        # Statistics dashboard
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ statistics.php    # Statistics API endpoint
â”œâ”€â”€ exports/                  # Export module
â”‚   â”œâ”€â”€ export_pdf.php        # PDF export handler
â”‚   â””â”€â”€ export_docx.php       # DOCX export handler
â”œâ”€â”€ uploads/                  # Upload directory
â”‚   â””â”€â”€ avatars/              # Student avatars
â”œâ”€â”€ assets/                   # Static assets
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ notifications.css # Custom notification styles
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ notifications.js  # Notification system
â”‚   â”‚   â”œâ”€â”€ realtime.js       # Real-time features
â”‚   â”‚   â””â”€â”€ clock-widget.js   # Clock widget
â”‚   â””â”€â”€ libs/                 # Third-party libraries
â”‚       â”œâ”€â”€ phpword/          # PHPWord library
â”‚       â””â”€â”€ tcpdf/            # TCPDF library
â”œâ”€â”€ authController.php        # Authentication controller
â”œâ”€â”€ studentController.php     # Student controller
â”œâ”€â”€ scoreController.php       # Score controller
â”œâ”€â”€ exportController.php      # Export controller
â”œâ”€â”€ utils.php                 # Utility functions
â”œâ”€â”€ middleware.php            # Security middleware
â”œâ”€â”€ database.sql              # Database schema
â”œâ”€â”€ README.md                 # Documentation
â””â”€â”€ WORKFLOW.txt              # This file

================================================================================
ğŸ¯ 12. DEVELOPMENT WORKFLOW
================================================================================

12.1. SETUP DEVELOPMENT ENVIRONMENT
   1. Install XAMPP
   2. Clone project to htdocs
   3. Import database.sql
   4. Configure config/db.php
   5. Set permissions for uploads/
   6. Access http://localhost/super-stu/public/

12.2. ADDING NEW FEATURES
   1. Create controller file
   2. Create view files in appropriate directory
   3. Update navigation in public/index.php
   4. Add permissions in utils.php
   5. Test with different user roles

12.3. DEBUGGING
   1. Check browser console for JavaScript errors
   2. Check PHP error logs
   3. Use var_dump() for debugging
   4. Check database queries
   5. Verify file permissions

================================================================================
ğŸ“ 13. SUPPORT AND MAINTENANCE
================================================================================

13.1. REGULAR MAINTENANCE
   - Backup database weekly
   - Update dependencies
   - Monitor error logs
   - Check file permissions
   - Optimize database

13.2. TROUBLESHOOTING
   - Database connection issues
   - File upload problems
   - Permission errors
   - Performance issues
   - Browser compatibility

13.3. SECURITY CONSIDERATIONS
   - Regular password updates
   - SQL injection prevention
   - XSS protection
   - File upload security
   - Session management

================================================================================

TÃ i liá»‡u nÃ y mÃ´ táº£ chi tiáº¿t workflow cá»§a há»‡ thá»‘ng quáº£n lÃ½ sinh viÃªn.
Äá»ƒ hiá»ƒu rÃµ hÆ¡n vá» tá»«ng pháº§n, vui lÃ²ng tham kháº£o source code vÃ  README.md.

PhÃ¡t triá»ƒn bá»Ÿi: Minh Quang - TTM63ÄH
Cáº­p nháº­t láº§n cuá»‘i: 2024
